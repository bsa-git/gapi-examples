webpackJsonp([8],{"6geR":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"container"},[s("div",{staticClass:"text-center"},[s("h2",[t._v(t._s(t.title))]),s("p",{staticClass:"lead"},[t._v(t._s(t.description))])]),t._m(0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[s("h1",[t._v("Gmail API Send message")]),s("a",{staticClass:"btn btn-primary pull-right",attrs:{href:"#compose-modal","data-toggle":"modal",id:"compose-button"}},[t._v("Send Email")]),s("div",{staticClass:"modal fade",attrs:{id:"compose-modal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-content"},[t._m(1),s("form",{on:{submit:function(e){e.preventDefault(),t.sendEmail(e)}}},[s("div",{staticClass:"modal-body"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.toEmail,expression:"toEmail",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"compose-to",placeholder:"To",required:""},domProps:{value:t.toEmail},on:{input:function(e){e.target.composing||(t.toEmail=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.subjectEmail,expression:"subjectEmail",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",id:"compose-subject",placeholder:"Subject",required:""},domProps:{value:t.subjectEmail},on:{input:function(e){e.target.composing||(t.subjectEmail=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.textEmail,expression:"textEmail",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"compose-message",placeholder:"Message",rows:"10",required:""},domProps:{value:t.textEmail},on:{input:function(e){e.target.composing||(t.textEmail=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),s("button",{class:["btn","btn-primary",{disabled:t.disabled}],attrs:{type:"submit",id:"send-button"}},[t._v("Send\n              ")])])])])])])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bs-callout-info bs-callout"},[s("h4",[t._v("Method: Users.messages: send")]),s("div",{staticClass:"alert alert-info"},[s("span",{staticClass:"glyphicon glyphicon-star",attrs:{"aria-hidden":"true"}}),s("strong",{staticClass:"text-primary"},[t._v("Requires authorization")])]),s("p",[t._v("Sends the specified message to the recipients in the To, Cc, and Bcc headers.")]),s("p",[t._v("This method supports an "),s("strong",[t._v("/upload")]),t._v("\n      URI and accepts uploaded media with the following characteristics:")]),s("ul",[s("li",[s("strong",[t._v("Maximum file size:")]),t._v(" 35MB")]),s("li",[s("strong",[t._v("Accepted Media MIME types:")]),s("code",[t._v("message/rfc822")])])]),s("h4",[t._v("HTTP request")]),s("p",[t._v("This method provides media upload functionality through two separate URIs. For more details, see the document\n      on "),s("a",{attrs:{href:"https://developers.google.com/gmail/api/guides/uploads",target:"_blank"}},[t._v("media upload")]),t._v(".")]),s("ul",[s("li",[t._v("Upload URI, for media upload requests:\n        "),s("code",[t._v("POST https://www.googleapis.com/upload/gmail/v1/users/"),s("span",{staticClass:"text-primary"},[s("strong",[t._v("userId")])]),t._v("/messages/send")])]),s("li",[t._v("Metadata URI, for metadata-only requests:\n        "),s("code",[t._v("POST https://www.googleapis.com/gmail/v1/users/"),s("span",{staticClass:"text-primary"},[s("strong",[t._v("userId")])]),t._v("/messages/send")])])]),s("p",{staticClass:"lead"},[t._v("\n      Details can be found "),s("a",{attrs:{href:"https://developers.google.com/gmail/api/v1/reference/users/messages/send",target:"_blank"}},[t._v("here")]),t._v(".")]),s("p",[t._v("This example was created on the basis of an "),s("a",{attrs:{href:"https://www.sitepoint.com/sending-emails-gmail-javascript-api/",target:"_blank"}},[t._v("article")]),t._v(" written by "),s("a",{attrs:{href:"https://www.sitepoint.com/author/jshields/",target:"_blank"}},[t._v("Jamie Shields")]),t._v(".")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),s("h4",{staticClass:"modal-title"},[t._v("Compose")])])}],o={render:a,staticRenderFns:i};e.a=o},LeJU:function(t,e,s){"use strict";var a=s("Dd8w"),i=s.n(a),o=s("NYxO"),l=s("M4fF"),n=s.n(l);e.a={data:function(){return{title:"Method: Users.messages.send",description:"Sends the specified message to the recipients in the To, Cc, and Bcc headers.",toEmail:"",subjectEmail:"",textEmail:"",disabled:!1,isShow:!1}},head:function(){return{title:this.title,meta:[{hid:"description",name:"description",content:this.description}]}},mounted:function(){this.$nextTick(function(){var t=this;this.config.debug&&console.log("gmail-send-message.mounted - OK"),this.isStatic?this.apiGoogle.loadGmailApi().then(function(){t.config.debug&&console.log("loadGmailApi - OK"),t.isShow=!0}):this.isShow=!0})},computed:i()({},Object(o.mapGetters)({config:"getConfig",apiGoogle:"getGapi",google:"getGoogleData",isStatic:"isStatic"})),methods:{sendEmail:function(){return this.disabled=!0,this.sendMessage({To:this.toEmail,Subject:this.subjectEmail},this.textEmail,this.composeTidy),!1},composeTidy:function(){window.$("#compose-modal").modal("hide"),this.config.debug&&console.log("SendEmail - OK: ",'toEmail="'+this.toEmail+'"; ','subjectEmail="'+this.subjectEmail+'"; ','textEmail="'+this.textEmail+'";'),this.toEmail="",this.subjectEmail="",this.textEmail="",this.disabled=!1},sendMessage:function(t,e,s){var a=this,i="";if(n.a.forEach(t,function(t,e){i+=e+": "+t+"\r\n"}),i+="\r\n"+e,this.isStatic){window.gapi.client.gmail.users.messages.send({userId:"me",resource:{raw:window.btoa(i).replace(/\+/g,"-").replace(/\//g,"_")}}).execute(s)}else window.setTimeout(function(){alert('SendEmail - OK:\n toEmail="'+a.toEmail+'";\n subjectEmail="'+a.subjectEmail+'";\n textEmail="'+a.textEmail+'";'),s()},2e3)}}}},sY1g:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("LeJU"),i=s("6geR"),o=s("VU/8"),l=o(a.a,i.a,null,null,null);e.default=l.exports}});
//# sourceMappingURL=gmail-send-message.bd7c6e114f614b35c177.js.map