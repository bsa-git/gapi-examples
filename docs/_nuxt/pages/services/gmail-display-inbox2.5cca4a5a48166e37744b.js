webpackJsonp([3],{O9Vv:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"iframe{width:100%;border:0;min-height:80%;height:600px;display:-webkit-box;display:-ms-flexbox;display:flex}",""])},WSyU:function(t,e,i){"use strict";var n=i("//Fk"),a=i.n(n),s=i("Zrlr"),o=i.n(s),l=i("wxAW"),c=i.n(l),r=function(){function t(e){o()(this,t),this.name="load-google-api",this._callbackName="__googleApiOnLoadCallback",this._clientURL="https://apis.google.com/js/client.js?onload="+this._callbackName,this._apiKey=e.apiKey,this._clientId=e.clientId,this._discoveryDocs=e.discoveryDocs,this._scope=e.scope?e.scope.join(" "):"",this.error=null,this.debug=!!e.debug}return c()(t,[{key:"loadGoogleAPI",value:function(){var t=this;return new a.a(function(e,i){var n=document.createElement("script");n.src=t._clientURL,window[t._callbackName]=function(){e()},document.body.appendChild(n)})}},{key:"init",value:function(){var t=this,e=new a.a(function(t,e){window.gapi.load("client:auth2",t)}),i=new a.a(function(e,i){window.gapi.client.init({apiKey:t._apiKey,clientId:t._clientId,discoveryDocs:t._discoveryDocs,scope:t._scope}).then(e,function(e){t.error=e,console.error("Gapi.client.init - Error",e),alert("Error: "+e.error+"\n Details: "+e.details)})});return a.a.all([e,i])}},{key:"loadGapiClient",value:function(){return new a.a(function(t,e){window.gapi.load("client:auth2",t)})}},{key:"iniGapiClient",value:function(t){var e=this;return new a.a(function(i,n){window.gapi.client.init({apiKey:t.apiKey,clientId:t.clientId,discoveryDocs:t.discoveryDocs,scope:t.scope.join(" ")}).then(i,function(t){e.error=t,console.error("Gapi.client.init - Error",t),alert("Error: "+t.error+"\n Details: "+t.details)})})}},{key:"loadGmailApi",value:function(){return new a.a(function(t,e){window.gapi.client.load("gmail","v1",t)})}},{key:"isSignedIn",value:function(){return window.gapi.auth2.getAuthInstance().isSignedIn.get()}},{key:"listenSignedIn",value:function(t){this.debug&&console.log("listenSignedIn - OK"),window.gapi.auth2.getAuthInstance().isSignedIn.listen(t)}},{key:"handleAuthClick",value:function(t){t.debug&&console.log("handleAuthClick - OK"),window.gapi&&window.gapi.auth2.getAuthInstance().signIn()}},{key:"handleSignoutClick",value:function(t){t.debug&&console.log("handleSignoutClick - OK"),window.gapi&&window.gapi.auth2.getAuthInstance().signOut()}}]),t}();e.a=r},Zrlr:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},kq5a:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"container"},[i("div",{staticClass:"text-center"},[i("h2",[t._v(t._s(t.title))]),i("p",{staticClass:"lead"},[t._v(t._s(t.description))])]),t._m(0),t.isSignedIn?t._e():i("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.apiGoogle.handleAuthClick(t.apiGoogle)}}},[t._v("\n    Authorize\n  ")]),t.isSignedIn?i("div",[i("h1",[t._v("Gmail API demo")]),i("table",{staticClass:"table table-striped table-inbox"},[t._m(1),i("tbody",[t._l(t.google.gmail.inbox,function(e){return[i("tr",{key:e.id},[i("td",{domProps:{textContent:t._s(e.from)}}),i("td",[i("a",{attrs:{href:"#message-modal-"+e.id,"data-toggle":"modal",id:"message-link-"+e.id},domProps:{textContent:t._s(e.subject)}})]),i("td",[t._v(t._s(e.date))])])]})],2)]),t._l(t.google.gmail.inbox,function(e){return[i("div",{key:e.id,staticClass:"modal fade",attrs:{id:"message-modal-"+e.id,tabindex:"-1",role:"dialog","aria-labelledby":"myModalLabel"}},[i("div",{staticClass:"modal-dialog modal-lg"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[t._m(2,!0),i("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(e.subject))])]),i("div",{staticClass:"modal-body"},[i("iframe",{attrs:{id:"message-iframe-"+e.id,srcdoc:e.body}})]),t._m(3,!0)])])])]})],2):t._e()])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bs-callout-info bs-callout"},[i("h4",[t._v("Method: Users.messages.list")]),i("p",[t._v("Lists the messages in the user's mailbox.")]),i("h4",[t._v("HTTP request")]),i("p",[i("code",[t._v("GET https://www.googleapis.com/gmail/v1/users/userId/messages")])]),i("p",{staticClass:"lead"},[t._v("\n      Details can be found "),i("a",{attrs:{href:"https://developers.google.com/gmail/api/v1/reference/users/messages/list",target:"_blank"}},[t._v("here")]),t._v(".\n    ")]),i("p",[t._v("This example was created on the basis of an "),i("a",{attrs:{href:"https://www.sitepoint.com/sending-emails-gmail-javascript-api/",target:"_blank"}},[t._v("article")]),t._v(" written by "),i("a",{attrs:{href:"https://www.sitepoint.com/author/jshields/",target:"_blank"}},[t._v("Jamie Shields")]),t._v(".")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("From")]),i("th",[t._v("Subject")]),i("th",[t._v("Date/Time")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],s={render:n,staticRenderFns:a};e.a=s},krtF:function(t,e,i){"use strict";function n(t){i("qNKz")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("nWPz"),s=i("kq5a"),o=i("VU/8"),l=n,c=o(a.a,s.a,l,null,null);e.default=c.exports},nWPz:function(t,e,i){"use strict";var n=i("Dd8w"),a=i.n(n),s=i("NYxO"),o=i("WSyU");e.a={data:function(){return{title:"Method: Users.messages.list",description:"Lists the messages in the user's mailbox.",apiGoogle:null,isSignedIn:!1}},head:function(){return{title:this.title,meta:[{hid:"description",name:"description",content:this.description}]}},fetch:function(t){var e=t.isClient,i=t.isStatic,n=t.config;e&&n.debug&&console.log("gmail-display-inbox.fetch - OK: ","isStatic="+i+";"),e&&i&&location.reload(!0)},created:function(){if(!this.$isServer&&this.config.debug&&console.log("gmail-display-inbox.created - OK"),!this.$isServer){var t={debug:this.config.debug,apiKey:this.config.gapi.apiKey,clientId:this.config.gapi.clientId,discoveryDocs:this.config.gapi.services.gmail.discoveryDocs,scope:this.config.gapi.services.gmail.scopes["messages.list.send"]};this.apiGoogle=new o.a(t)}},mounted:function(){this.$nextTick(function(){var t=this;this.config.debug&&console.log("gmail-display-inbox.mounted - OK"),this.isStatic?this.apiGoogle.loadGoogleAPI().then(function(){return t.config.debug&&console.log("loadGoogleAPI - OK"),t.apiGoogle.init()}).then(function(){t.config.debug&&console.log("apiGoogle.init - OK");var e=t.updateSigninStatus.bind(t);t.apiGoogle.listenSignedIn(e),t.updateSigninStatus(t.apiGoogle.isSignedIn())}):this.updateSigninStatus(!0)})},computed:a()({},Object(s.mapGetters)({config:"getConfig",google:"getGapi",isStatic:"isStatic"})),methods:{updateSigninStatus:function(t){var e=this;this.config.debug&&console.log("updateSigninStatus - OK: ","isSignedIn="+t+"; "),this.isSignedIn=t,t&&(this.isStatic?this.apiGoogle.loadGmailApi().then(function(){e.config.debug&&console.log("loadGmailApi - OK"),e.$store.dispatch("receiveGmailMyMessages")}):this.$store.dispatch("receiveGmailMyMessages"))}}}},qNKz:function(t,e,i){var n=i("O9Vv");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i("rjj0")("3be68fee",n,!0)},wxAW:function(t,e,i){"use strict";e.__esModule=!0;var n=i("C4MV"),a=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()}});
//# sourceMappingURL=gmail-display-inbox2.5cca4a5a48166e37744b.js.map