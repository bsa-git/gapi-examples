webpackJsonp([9],{"8jbd":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e("uUzE"),o=e("xtWc"),i=e("VU/8"),c=i(n.a,o.a,null,null,null);s.default=c.exports},uUzE:function(t,s,e){"use strict";var n=e("Dd8w"),o=e.n(n),i=e("NYxO");s.a={data:function(){return{title:"Login/Logout Google User",description:"Handling Google sign-in and sign-out.",loading:"",response:""}},head:function(){return{title:this.title,meta:[{hid:"description",name:"description",content:this.description}],link:[]}},computed:o()({},Object(i.mapGetters)({config:"getConfig",isAuth:"isAuth",authGoogle:"getGapi",isTesting:"isTesting"})),methods:{signIn:function(){var t=this;this.toggleLoading(),this.isTesting?window.setTimeout(function(){t.onSignInSuccess(t.config.gapi.services.auth.test)},1e3):window.setTimeout(function(){t.authGoogle.signIn(t.onSignInSuccess,t.onSignInError)},1e3)},signOut:function(){var t=this;this.toggleLoading(),this.isTesting?window.setTimeout(function(){t.onSignOutSuccess()},1e3):window.setTimeout(function(){t.authGoogle.signOut(t.onSignOutSuccess,t.onSignOutError)},1e3)},disconnect:function(){var t=this;this.isTesting?window.setTimeout(function(){t.onDisconnect()},1e3):window.setTimeout(function(){t.authGoogle.disconnect(),t.onDisconnect()},1e3)},addScope:function(){var t=this;this.isTesting?window.setTimeout(function(){t.onAddScopeSuccess(t.config.gapi.services.auth.test.user)},1e3):window.setTimeout(function(){t.authGoogle.addScope("https://www.googleapis.com/auth/drive",t.onAddScopeSuccess,t.onAddScopeError).then(function(){})},1e3)},onSignInSuccess:function(t){var s={};this.toggleLoading(),this.resetResponse(),this.isTesting?(s=t.user,s.token=t.token):s=this.authGoogle.getCurrentUserInfo(),this.$store.commit("SET_TOKEN",s.token),this.$store.commit("SET_USER",s),this.config.debug&&console.log("CurrentUser.info: ",s),this.$router.push("/")},onSignInError:function(t){this.toggleLoading(),this.response="Failed to sign-in",console.log("GOOGLE SERVER - SIGN-IN ERROR",t)},onSignOutSuccess:function(){this.toggleLoading(),this.resetResponse(),this.$store.commit("SET_TOKEN",null),this.$store.commit("SET_USER",null),this.$router.push("/")},onSignOutError:function(t){this.toggleLoading(),this.response="Failed to sign-out",console.log("GOOGLE SERVER - SIGN-OUT ERROR",t),this.$router.push("/")},onDisconnect:function(){this.$store.commit("SET_TOKEN",null),this.$store.commit("SET_USER",null),this.$router.push("/")},onAddScopeSuccess:function(t){this.isTesting?this.response="Success to add-scope for UserId="+t.id:this.response="Success to add-scope for UserId="+t.getId()},onAddScopeError:function(t){this.response="Failed to add-scope",console.log("GOOGLE SERVER - ADD-SCOPE ERROR",t)},toggleLoading:function(){this.loading=""===this.loading?this.isAuth?"Logout":"Login":""},resetResponse:function(){this.response=""}}}},xtWc:function(t,s,e){"use strict";var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"container"},[e("div",{staticClass:"text-center"},[e("h2",[t._v(t._s(t.title))])]),t._m(0),e("div",{staticClass:"jumbotron well text-center"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"text-danger lead"},[e("p",[t._v(t._s(t.loading)+"...")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.response,expression:"response"}],staticClass:"text-danger lead"},[e("p",[t._v(t._s(t.response))])]),e("div",{staticClass:"auth-btns"},[t.isAuth?e("div",[e("p",[t._v("You are currently signed in and have granted access to this app.")]),e("br"),e("a",{staticClass:"button--grey",on:{click:t.signOut}},[e("span",{staticClass:"glyphicon glyphicon-log-out",attrs:{"aria-hidden":"true"}}),t._v("\n          Sign out")]),e("a",{staticClass:"button--grey",on:{click:t.disconnect}},[e("span",{staticClass:"glyphicon glyphicon-remove",attrs:{"aria-hidden":"true"}}),t._v(" Revoke access")]),e("a",{staticClass:"button--grey",on:{click:t.addScope}},[e("span",{staticClass:"glyphicon glyphicon-plus",attrs:{"aria-hidden":"true"}}),t._v(" Add scope")])]):e("div",[e("p",[t._v("You have not authorized this app or you are signed out.")]),e("br"),e("a",{staticClass:"button--green",on:{click:t.signIn}},[e("span",{staticClass:"glyphicon glyphicon-log-in",attrs:{"aria-hidden":"true"}}),t._v(" Sign In/Authorize")])])])])])},o=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"bs-callout-info bs-callout"},[e("h4",[t._v("Get a Google Account")]),e("p",[t._v("To test Google services you need to have an Google Account.")]),e("p",[t._v("First, "),e("a",{attrs:{href:"https://www.google.com/accounts",target:"_blank"}},[t._v("sign up")]),t._v(" for a\n      Google Account if you do not already have one.\n    ")])])}],i={render:n,staticRenderFns:o};s.a=i}});
//# sourceMappingURL=login.cd7a9dede37662a4faea.js.map